---
layout: post
title: 🪶 형상관리의 개념과 접근
sitemap: false
hide_last_modified: true
---

프론트엔드, 백엔드 등등 직군을 막론하고 개발자들이라면 반드시 알아야하고 반드시 사용할 줄 알아야 하는 형상관리!<br/>
<span style="color: lightgray;">~~마침 잘 됐다 싶은게~~</span> 형상관리에 대한 세미나를 준비하면서 확실하게 정리된 개념을 여기에 같이 남겨볼게요 :)


<!-- * toc -->
<!-- {:toc} -->

## 📖 형상관리, 그게 도대체 뭐예요?

일단 "형상관리" 라는 단어 자체에서 오는 느낌이 어떠세요?<br/>
뭔가 모양을 관리하는건가? 하는 생각만 들고 말았더라도 아주 좋은 접근을 했다고 봐요 :)<br/>

형상관리는 <span style="background-color: #fff5b1">**소프트웨어 버전 관리 툴**</span> 이라고도 불려요.<br/>
왜 우리 설치된 어플리케이션에 보통 설정 항목에 들어가서 가장 밑에 내리다보면 소프트웨어 버전 해서 xx.yy.zz 하고 숫자 있잖아요?<br/>
그 버전이라는 숫자들은 업데이트 될 때마다 갱신되구요.<br/>
이 때, 그 버전정보에 대한 소스코드의 변경 이력을 관리 하는것이 형상관리 라고 생각하시면 돼요.

그리고 한 버전이 릴리즈 되기 전까지도 수많은 코드들이 새로 추가되거나 삭제되기도 하고, 수정되기도 하잖아요?<br/>
이 모든 변경 내역들에 대한 관리를 용이하게 해 주는 것도 형상관리예요.

대충 무슨말인지는 모르겠는데 정확하게 그게 무슨말인지 모르겠다면, 일단 형상관리라는 단어의 정의는
> 소스 코드들의 변경 내역과 이력을 용이하게 관리하기 위한 버전 관리 툴

로 정의하고 밑에서 천천히 다시 보자구요 :)<br/>


## 📖 형상관리라는걸 도대체 왜 하나요?

우리 두 가지의 사례를 통해 생각 해 볼까요?<br/>

1. 파란참새씨는 개인 프로젝트를 디버깅 하다가 예기치 않은 오류를 만나 IDE가 강제 종료되는 상황을 맞았다.<br/>
IDE가 강제 종료되는 바람에 실행 이후 수정 작성했던 코드의 위치는 표시되지 않는다.<br/>
기억을 되살려 다시 정상 동작하는 상태로 되돌리려 하였으나 왜인지 수정을 거듭할수록 에러가 점점 많아지는 상황에 이르렀다.

2. 공동 프로젝트에 참여 중인 노란참새씨와 초록참새씨는 각각 개발/수정을 맡은 부분이 다르다.<br/>
각자 작업을 진행하던 중 특정 함수 A를 수정해야하는 필요성을 확인했고, 상호 확인 없이 각자 작업을 진행하였다.<br/>
그리고 각자 작업을 완료한 둘은 각자 테스트를 진행했는데 함수 A가 왜인지 같은 로직을 함수 내에서 두 번이나 동작하는 것을 확인한다.

<br/>어떤가요? 두 케이스 모두 머리가 아득해지는 상황이죠?<br/>

1번 케이스부터 볼까요? 아무리 빨리 코드를 열어 복구하려고 하겠지만 어땠을까요?<br/>
스스로 로직을 설계하고 작성했다면 어떤 방향으로 진행했었는지는 기억해 낼 수 있을거예요.<br/>
그러나 실제 코드로 반영하는 과정 사이에 어떤 포인트를 심었는지까지 기억할 수 있을까요?<br/>

2번 케이스도 바로 이어서 보죠.<br/>
노란참새씨와 초록참새씨가 함수 A의 문제점을 잘 파악했지만 서로 추가된 내용이 동작해야 하는 위치에 대한 판단은 달랐나보군요.<br/>
만약에 이 둘이 상호 피드백이 느렸던 상황이었으면 어땠을까요?<br/>
서로 "내가 이걸 또 여기에다가 넣었다고?" 하면서 서로 자신의 수정사항이 아닌 내용을 삭제했다면 어땠을까요?<br/>
결국 서로 물어물어 협의 후에 로직 공통화 처리로 해결하겠지만, 이 문제 원인을 찾는데 시간 소모가 많아질수도 있겠네요.<br/>

이런 아찔하면서 난감한 상황을 형상관리가 막아줄 수 있습니다.<br/>
위 두 가지의 사례를 통해 추론할 수 있는 형상관리의 주된 사용 목적은 크게 두 가지 입니다.<br/>

> 1. 작성한 코드에 대한 버전관리를 할 수 있다.
> 2. 수정된 코드에 대한 변경 내용을 단위별로 확인하고 트래킹 및 통합 할 수 있다.<br/>

만약 파란참새씨가 개인적으로 코드 버전관리를 하고 있었다면 어땠을까요?<br/>
마지막으로 정상적으로 동작 했던 코드의 버전으로 로컬 코드를 리비전시켜서 빠르게 복구 할 수 있지 않았을까요?<br/>

공동 프로젝트를 진행하는 노란참새씨와 초록참새씨가 형상관리로 코드를 관리하고 있었다면 어땠을까요?<br/>
서로 작업 단위를 업데이트하며 변경점을 확인했다면 이중작업이나 불필요한 의사소통을 줄일 수 있지 않았을까요?<br/>

## 📖 좀더 딥하게 볼까요?

우리는 방금 제일 첫번째 문단의 마지막에서 형상관리에 대한 단어의 정의를<br/>
> 소스코드들의 변경 내역과 이력을 용이하게 관리하기 위한 버전 관리 툴

이라고 정의 했습니다.

보통 형상관리라고 하면 코드를 버전별로 관리한다- 라는 막연한 개념으로 접근하기 시작하는데요<span style="color: lightgray;">~~(저는 그랬어요)~~</span>,<br/>
물론 틀린 말은 아니지만 완벽히 맞는 이야기라면 이 카테고리도 적지 않았겠죠?

형상관리는 코드의 버전관리를 위해 사용하는게 맞습니다.<br/>
다만 <span style="background-color: #fff5b1">**버전관리 뿐만 아니라 협업을 위해 사용한다**</span>는 개념으로 접근하는게 더 좋다고 봐요. 이건 무슨 소리냐-<br/>

위에서 읽고 넘어왔던 2번 케이스 기억 나시죠?<br/>
한 작업 공간(code repository)에서 작업 단위별로 코드 분기를 나누고(branch),<br/>
그 분기 내에서 작업한 내용을 반영하는(commit/push)것이 코드 변화에 대한 버전관리를 한다라는 개념이고요,<br/>
코드 수정 내역에 대해 충돌이 일어나는 부분은 양쪽이 서로 검토 후 하나의 코드로 합칠수도 있는(merge) 개념이<br/>
바로 협업 목적으로 사용하는 것 입니다.<br/>

위에서 정리했던 형상관리의 주된 사용 목적 두 가지를 다시 대입시켜 읽어볼까요?<br/>

내가 작업한 코드에 대한 수정사항은 작게는 코드 한 줄 안의 변수만을 수정했을 수도 있고, 많은 파일을 추가했을 수도 있어요.<br/>
이 <span style="background-color: #fff5b1">작업 단위별로 내가 어떤 수정사항을 반영하기 위해 어떤 부분을 수정했고 추가했는지를 기록</span>해야할 필요성이 있겠죠?<br/>
이 하나하나의 기록 내용을 커밋이라고 부르고, 커밋된 내용을 원격 코드 저장소에 반영 하는것이 바로 푸시라고 생각하시면 됩니다.<br/>
그러니까 커밋된 코드의 수정사항을 트래킹하면 코드가 어떻게 수정되었는지 확인할 수 있겠죠?<br/>

원격 코드 저장소에 접근하여 여러 명이 작업하는 경우에도 마찬가지예요.<br/>
여러 명이 작업을 했더라도 커밋 내역에 누가, 언제, 어떤 작업을 진행했으며 어떤 부분의 코드가 수정됐다는 내용까지 모두 기록이 됩니다.<br/>
설령 불특정 다수가 같은 부분을 커밋했다 하더라도 작업자와 작업 내용에 대한 기록이 남아있으니, 담당자들끼리만 협의해서 충돌이 발생한 코드 조각을 쉽게 파악하고 통합할 수도 있게 되는거죠.<br/>

누군가 잘못된 커밋을 섞어 반영을 했을때에도, 쉽게 이전 버전으로 되돌아가는 것 또한 가능해요.<br/>
만약 내가 많은 부분을 수정하고 충분한 확인 없이 커밋을 했는데 심각한 문제가 발견되었을 때를 생각해볼게요.<br/>
물론 문제가 되는 부분을 빨리 찾아서 수정해서 다시 커밋해도 되지만 작업했던 범주가 너무 넓어 문제 부분만 빨리 찾기 어려울 때라던가, 차라리 아예 문제가 없던 상태로 되돌아가 재검토 후 작업을 진행하고 싶을때!<br/>
버전관리가 잘 되어있다면 내가 커밋하기 직전의 버전으로 코드를 되돌려 다시 작업을 시작하기 위한 준비를 빠르게 할 수도 있게 되는거죠. <br/>

## 💁🏻 결론!

* 형상관리는 코드의 변경 내용에 대해 버전관리를 할 수 있다.
* 여러 명이 같은 코드를 수정하더라도 형상관리에서 작업된 내용을 통합/관리 하는 것이 가능하다.
* 코드가 잘못 반영 되었더라도 형상관리된 이전 버전으로 쉽게 되돌아가 작업을 재진행 할 수 있다.

<br/>
여기까지 형상관리란 무엇인가에 대해 공부한 내용을 정리 해 보았습니다.<br/><br/>
그럼, 다음 글에서 또 뵈어요 :) 🪶